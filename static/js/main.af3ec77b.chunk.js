(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{29:function(e,t,n){e.exports={containerNav:"User_containerNav__28y3n",containerUser:"User_containerUser__19kuj",user:"User_user__8lBcI"}},47:function(e,t,n){e.exports={btn:"Button_btn__3HO9a"}},48:function(e,t,n){e.exports={btnList:"ButtonList_btnList__3o8YW"}},7:function(e,t,n){e.exports={container:"PhoneBook_container__2NxKR",headingForm:"PhoneBook_headingForm__1fRy6",contactList:"PhoneBook_contactList__36181",labelSearch:"PhoneBook_labelSearch__2qppD",form:"PhoneBook_form__zMnfx",labelName:"PhoneBook_labelName__2SZRv",labelNumber:"PhoneBook_labelNumber__fmDSG",nameContact:"PhoneBook_nameContact__A3QcE",numberContact:"PhoneBook_numberContact__1gKLQ",infoContact:"PhoneBook_infoContact__1V4xr",containerSearch:"PhoneBook_containerSearch__3fNfm",btnList:"PhoneBook_btnList__3oO_i"}},82:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var r,a,c=n(0),o=n(1),s=n(25),u=n.n(s),i=n(4),b=n(28),l=n(3),j=n(6),h=n(8),O=Object(l.b)("phonebook/fetchContactRequest"),f=Object(l.b)("phonebook/fetchContactSuccess"),d=Object(l.b)("phonebook/fetchContactError"),p=Object(l.b)("phonebook/addContactRequest"),m=Object(l.b)("phonebook/addContactSuccess"),x=Object(l.b)("phonebook/addContactError"),g=Object(l.b)("phonebook/deleteContactRequest"),v=Object(l.b)("phonebook/deleteContactSuccess"),k=Object(l.b)("phonebook/deleteContactError"),_=Object(l.b)("phonebook/veluesFilter"),w=Object(l.d)([],(r={},Object(j.a)(r,f,(function(e,t){return t.payload})),Object(j.a)(r,m,(function(e,t){return[t.payload].concat(Object(b.a)(e))})),Object(j.a)(r,v,(function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n}))})),r)),C=Object(l.d)("",Object(j.a)({},_,(function(e,t){return t.payload}))),N=Object(l.d)(!1,(a={},Object(j.a)(a,p,(function(){return!0})),Object(j.a)(a,m,(function(){return!1})),Object(j.a)(a,x,(function(){return!1})),Object(j.a)(a,g,(function(){return!0})),Object(j.a)(a,v,(function(){return!1})),Object(j.a)(a,k,(function(){return!1})),Object(j.a)(a,O,(function(){return!0})),Object(j.a)(a,f,(function(){return!1})),Object(j.a)(a,d,(function(){return!1})),a)),y=Object(h.c)({contacts:w,filter:C,loading:N}),S=n(17),L=n.n(S),B=n(23),I=n(13),U=n.n(I);U.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var P,E={set:function(e){U.a.defaults.headers.common.Authorization="Barer ".concat(e)},unset:function(){U.a.defaults.headers.common.Authorization=""}},F={register:Object(l.c)("auth/register",function(){var e=Object(B.a)(L.a.mark((function e(t){var n,r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.post("/users/signup",t);case 3:return n=e.sent,r=n.data,E.set(r.token),e.abrupt("return",r);case 9:if(e.prev=9,e.t0=e.catch(0),!e.t0){e.next=14;break}throw alert("\u0422\u0430\u043a\u0438\u0439 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447 \u0432\u0436\u0435 \u0454, \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0443\u0432\u0430\u0442\u0438\u0441\u044f."),new Error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),logIn:Object(l.c)("auth/logIn",function(){var e=Object(B.a)(L.a.mark((function e(t){var n,r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.post("/users/login",t);case 3:return n=e.sent,r=n.data,E.set(r.token),e.abrupt("return",r);case 9:if(e.prev=9,e.t0=e.catch(0),!e.t0){e.next=14;break}throw alert("\u0422\u0430\u043a\u043e\u0433\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 \u043d\u0435\u043c\u0430\u0454, \u0430\u0431\u043e \u0434\u0430\u043d\u0456 \u0431\u0443\u043b\u0438 \u0432\u0432\u0435\u0434\u0435\u043d\u0456 \u043d\u0435\u0432\u0456\u0440\u043d\u043e, \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0449\u0435 \u0440\u0430\u0437."),new Error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),logOut:Object(l.c)("auth/logout",Object(B.a)(L.a.mark((function e(){var t,n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.post("/users/logout");case 3:return t=e.sent,n=t.data,E.unset(),e.abrupt("return",n);case 9:if(e.prev=9,e.t0=e.catch(0),!e.t0){e.next=14;break}throw alert("\u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a, \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0449\u0435 \u0440\u0430\u0437."),new Error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})))),getCurrentUser:Object(l.c)("auth/getCurrentUser",function(){var e=Object(B.a)(L.a.mark((function e(t,n){var r,a,c,o;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.getState(),a=r.auth.token,null!==E){e.next=4;break}return e.abrupt("return",n.rejectWithValue());case 4:return E.set(a),e.prev=5,e.next=8,U.a.get("/users/current");case 8:return c=e.sent,o=c.data,e.abrupt("return",o);case 13:if(e.prev=13,e.t0=e.catch(5),!e.t0){e.next=18;break}throw alert("\u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a, \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0449\u0435 \u0440\u0430\u0437. error"),new Error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t,n){return e.apply(this,arguments)}}())},R={getIsLoggedIn:function(e){return e.auth.isLoggedIn},getUserName:function(e){return e.auth.user.name}},q=Object(l.e)({name:"auth",initialState:{user:{name:null,email:null},token:null,isLoggedIn:!1},extraReducers:(P={},Object(j.a)(P,F.register.fulfilled,(function(e,t){e.user=t.payload.user,e.token=t.payload.token,e.isLoggedIn=!0})),Object(j.a)(P,F.logIn.fulfilled,(function(e,t){e.user=t.payload.user,e.token=t.payload.token,e.isLoggedIn=!0})),Object(j.a)(P,F.logOut.fulfilled,(function(e,t){e.user={name:null,email:null},e.token=null,e.isLoggedIn=!1})),Object(j.a)(P,F.getCurrentUser.fulfilled,(function(e,t){e.user=t.payload,e.isLoggedIn=!0})),P)}).reducer,D=n(46),z=n.n(D),A=n(18),J=Object(b.a)(Object(l.f)({serializableCheck:{ignoredActions:[A.a,A.f,A.b,A.c,A.d,A.e]}})),K={key:"auth",storage:z.a,whitelist:["token"]},Q=Object(l.a)({reducer:{auth:Object(A.g)(K,q),phonebook:y},middleware:J,devTools:!1}),T=Object(A.h)(Q),V=n(16),W=(n(82),n(7)),G=n.n(W);function H(){return Object(c.jsxs)("div",{children:[Object(c.jsx)(V.b,{to:"/register",children:" \u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f"}),Object(c.jsx)(V.b,{to:"/login",children:" \u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0456\u044f"})]})}function M(){return Object(c.jsxs)("div",{children:[Object(c.jsx)(V.b,{to:"/",exact:!0,children:"\u0413\u043e\u043b\u043e\u0432\u043d\u0430"}),Object(c.jsx)(V.b,{to:"/contacts",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438"})]})}var Y=n(29),Z=n.n(Y);function $(){var e=Object(i.c)(R.getUserName),t=Object(i.b)();return Object(c.jsxs)("div",{className:Z.a.containerNav,children:[Object(c.jsx)("div",{className:Z.a.containerUser}),Object(c.jsxs)("p",{className:Z.a.user,children:["\u0414\u043e\u0431\u0440\u043e\u0433\u043e \u0434\u043d\u044f, ",e," !"]}),Object(c.jsx)("button",{type:"button",onClick:function(){return t(F.logOut())},children:"\u0412\u0438\u0439\u0442\u0438"})]})}function X(){var e=Object(i.c)(R.getIsLoggedIn);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(M,{}),e?Object(c.jsx)($,{}):Object(c.jsx)(H,{})]})}var ee=n(5),te=n(15);function ne(){var e=Object(i.b)(),t=Object(o.useState)(""),n=Object(te.a)(t,2),r=n[0],a=n[1],s=Object(o.useState)(""),u=Object(te.a)(s,2),b=u[0],l=u[1],j=Object(o.useState)(""),h=Object(te.a)(j,2),O=h[0],f=h[1],d=function(e){var t=e.target,n=t.name,r=t.value;switch(n){case"name":return a(r);case"email":return l(r);case"password":return f(r);default:return}},p=function(){a(""),l(""),f("")};return Object(c.jsx)("div",{children:Object(c.jsxs)("form",{action:"",onSubmit:function(t){t.preventDefault(),e(F.register({name:r,email:b,password:O})),p()},children:[Object(c.jsxs)("label",{children:["\u0406\u043c'\u044f",Object(c.jsx)("input",{value:r,name:"name",type:"name",onChange:d})]}),Object(c.jsxs)("label",{children:["\u041f\u043e\u0448\u0442\u0430",Object(c.jsx)("input",{value:b,name:"email",type:"email",onChange:d})]}),Object(c.jsxs)("label",{children:["\u041f\u0430\u0440\u043e\u043b\u044c",Object(c.jsx)("input",{value:O,name:"password",type:"password",onChange:d})]}),Object(c.jsx)("button",{type:"submit",children:"\u0417\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438\u0441\u044f"})]})})}function re(){var e=Object(i.b)(),t=Object(o.useState)(""),n=Object(te.a)(t,2),r=n[0],a=n[1],s=Object(o.useState)(""),u=Object(te.a)(s,2),b=u[0],l=u[1],j=function(e){var t=e.target,n=t.name,r=t.value;switch(n){case"email":return a(r);case"password":return l(r);default:return}},h=function(){a(""),l("")};return Object(c.jsx)("div",{children:Object(c.jsxs)("form",{action:"",onSubmit:function(t){t.preventDefault(),e(F.logIn({email:r,password:b})),h()},children:[Object(c.jsx)("input",{value:r,name:"email",type:"email",onChange:j}),Object(c.jsx)("input",{value:b,name:"password",type:"password",onChange:j}),Object(c.jsx)("button",{type:"submit",children:"\u0423\u0432\u0456\u0439\u0442\u0438"})]})})}U.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var ae=function(e,t){return function(n){var r={newName:e,number:t};n(p()),U.a.post("/contacts",r).then((function(e){var t=e.data;return n(m(t))})).catch((function(e){return n(x(e))}))}},ce=function(e){return function(t){t(g()),U.a.delete("/contacts/".concat(e)).then((function(){return t(v(e))})).catch((function(e){return t(k(e))}))}},oe=function(){return function(e){e(O()),U.a.get("/contacts").then((function(t){var n=t.data;return e(f(n))})).catch((function(e){return d(e)}))}},se=n(22),ue=n.n(se),ie=n(47),be=n.n(ie);function le(e){var t=e.children;return Object(c.jsx)("button",{className:be.a.btn,type:"submite",children:Object(c.jsxs)("span",{children:[" ",t]})})}var je=n(26),he=function(e){return e.phonebook.contacts},Oe=function(e){return e.phonebook.filter},fe=Object(je.a)([he,Oe],(function(e,t){var n=t.toLowerCase();return e.filter((function(e){return e.newName.toLowerCase().includes(n)}))}));function de(){var e=Object(o.useState)(""),t=Object(te.a)(e,2),n=t[0],r=t[1],a=Object(o.useState)(""),s=Object(te.a)(a,2),u=s[0],b=s[1],l=Object(i.c)(he),j=Object(i.b)(),h=function(e){var t=e.currentTarget,n=t.name,a=t.value;switch(n){case"name":r(a);break;case"number":b(a);break;default:return}},O=function(e,t,n){!function(e,t){return e.some((function(e){return e.newName===t}))}(n,e)?j(ae(e,t)):alert('\u0426\u0435 \u0456\u043c"\u044f \u0432\u0436\u0435 \u0456\u0441\u043d\u0443\u0454')},f=function(){r(""),b("")},d=ue.a.generate(),p=ue.a.generate();return Object(c.jsxs)("form",{className:G.a.form,onSubmit:function(e){e.preventDefault();var t=n.length,r=u.length;t<2||t>10?alert('\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0456\u043c"\u044f \u0431\u0456\u043b\u044c\u0448\u0435 1-\u0433\u043e \u0441\u0438\u043c\u0432\u043e\u043b\u0430 \u0456 \u043d\u0435 \u0431\u0456\u043b\u044c\u0448\u0435 10'):r<7||r>10?alert("\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u043e\u043c\u0435\u0440 \u0431\u0456\u043b\u044c\u0448\u0435 7-\u043c\u0438 \u0446\u0438\u0444\u0440 \u0456 \u043d\u0435 \u0431\u0456\u043b\u044c\u0448\u0435 10"):(O(n,u,l),f())},children:[Object(c.jsx)("label",{htmlFor:d,className:G.a.labelName,children:"\u0418\u043c'\u044f"}),Object(c.jsx)("input",{id:d,type:"text",name:"name",value:n,onChange:h,autoComplete:"off"}),Object(c.jsx)("label",{htmlFor:p,className:G.a.labelNumber,children:"\u041d\u043e\u043c\u0435\u0440"}),Object(c.jsx)("input",{id:p,placeholder:"(0xx) xxx-xx-xx",type:"tel",pattern:"^[ 0-9]+$",name:"number",value:u,onChange:h,autoComplete:"off"}),Object(c.jsx)(le,{children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043a\u043e\u043d\u0442\u0430\u043a\u0442"})]})}var pe=n(48),me=n.n(pe);function xe(e){var t=e.children,n=e.id,r=Object(i.b)();return Object(c.jsx)("button",{className:me.a.btnList,onClick:function(){return r(ce(n))},type:"button",children:Object(c.jsxs)("span",{children:[" ",t]})})}function ge(){var e=Object(i.c)(fe);return Object(c.jsx)(c.Fragment,{children:e.length>0&&Object(c.jsxs)("div",{children:[Object(c.jsx)("p",{className:G.a.infoContact,children:"\u0414\u043b\u044f \u0442\u043e\u0433\u043e \u0449\u043e\u0431 \u043d\u0430\u0431\u0440\u0430\u0442\u0438 \u043d\u043e\u043c\u0435\u0440, \u043f\u0440\u043e\u0441\u0442\u043e \u043d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c \u043d\u0430 \u043d\u044c\u043e\u0433\u043e \ud83d\ude0a"}),Object(c.jsx)("ul",{className:"js-list",children:e.map((function(e){var t=e.id,n=e.newName,r=e.number;return Object(c.jsxs)("li",{children:[Object(c.jsxs)("span",{className:G.a.nameContact,children:[n,": "]}),Object(c.jsxs)("span",{className:G.a.numberContact,children:["+38",Object(c.jsx)("a",{href:"tel: ".concat(r),className:G.a.numberContact,children:r})]}),Object(c.jsx)(xe,{id:t,children:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"})]},t)}))})]})})}function ve(){var e=Object(i.c)(Oe),t=Object(i.b)(),n=ue.a.generate();return Object(c.jsxs)("div",{className:G.a.containerSearch,children:[Object(c.jsx)("label",{className:G.a.labelSearch,htmlFor:n,children:"\u041f\u043e\u0438\u0441\u043a \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0430 \u043f\u043e \u0438\u043c\u0435\u043d\u0438"}),Object(c.jsx)("input",{type:"text",name:"filter",value:e,onChange:function(e){t(_(e.target.value))},id:n,autoComplete:"off",className:G.a.inputSearch})]})}function ke(){var e=Object(i.b)();return Object(o.useEffect)((function(){e(oe())}),[e]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{className:G.a.headingForm,children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d\u043d\u0430 \u043a\u043d\u0438\u0433\u0430"}),Object(c.jsx)(de,{}),Object(c.jsx)("h2",{className:G.a.contactList,children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438"}),Object(c.jsx)(ve,{}),Object(c.jsx)(ge,{})]})}function _e(){return Object(c.jsx)("p",{children:"\u0414\u043e\u0431\u0440\u043e\u0433\u043e \u0434\u043d\u044f! \u0420\u0435\u0454\u0441\u0442\u0440\u0443\u0439\u0441\u044f \u0442\u0430 \u0441\u0442\u0432\u043e\u0440\u044e\u0439 \u0441\u0432\u043e\u0457 \u0443\u043b\u044e\u0431\u043b\u0435\u043d\u0456 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0438! \ud83d\ude0e"})}function we(){var e=Object(i.b)();return Object(o.useEffect)((function(){e(F.getCurrentUser())}),[e]),Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:G.a.container,children:[Object(c.jsx)(X,{}),Object(c.jsxs)(ee.c,{children:[Object(c.jsx)(ee.a,{path:"/",exact:!0,children:Object(c.jsx)(_e,{})}),Object(c.jsx)(ee.a,{path:"/contacts",children:Object(c.jsx)(ke,{})}),Object(c.jsx)(ee.a,{path:"/register",children:Object(c.jsx)(ne,{})}),Object(c.jsx)(ee.a,{path:"/login",children:Object(c.jsx)(re,{})})]})]})})}var Ce=n(49);u.a.render(Object(c.jsx)(i.a,{store:Q,children:Object(c.jsx)(Ce.a,{loading:null,persistor:T,children:Object(c.jsx)(V.a,{children:Object(c.jsx)(we,{})})})}),document.querySelector("#root"))}},[[94,1,2]]]);
//# sourceMappingURL=main.af3ec77b.chunk.js.map